{% extends "admin_dash/dash.html" %}
{% load static %}


{% block content %}

<div class="main-panel">
    <div class="content-wrapper">
      <div class="page-header">
        <h3 class="page-title">Product Management</h3>
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="#">Forms</a></li>
            <li class="breadcrumb-item active" aria-current="page">Form elements</li>
          </ol>
        </nav>
      </div>
      
        <div class="col-md-6 grid-margin stretch-card">
          <div class="card">
            <div class="card-body">
              <h4 class="card-title">Add Product</h4>
              <p class="card-description">Basic form layout</p>
              <div id="alert-box"></div>
              <div id="image-box" class="mb-3"></div>
              <form id="image-form" method="POST" enctype="multipart/form-data">
                {% csrf_token %}
                {{ form.as_p }}
                <button class="btn btn-success"  type='submit' id="">Confirm</button>
            </form> 
            {% comment %} <button class="btn btn-primary mt-3 not-visible" id="confirm-btn">Confirm</button> {% endcomment %}
            
              {% for message in messages %}
                 <p>{{ message }}</p>
              {% endfor %}
            </div>
          </div>
        </div>
    </div>
</div>
{% comment %} <script>
  const alertBox = document.getElementById('alert-box');
  const imageBox = document.getElementById('image-box');
  const input = document.getElementById('id_file');

  input.addEventListener('change', () => {
    console.log('changed');
    const img_data = input.files[0];
    const url = URL.createObjectURL(img_data);
    imageBox.innerHTML = `<img src="${url}" id="image" width="500px">`;

    var $image = $('#image');

    $image.cropper({
      aspectRatio: 16 / 9,
      crop: function(event) {
        console.log(event.detail.x);
        console.log(event.detail.y);
        console.log(event.detail.width);
        console.log(event.detail.height);
        console.log(event.detail.rotate);
        console.log(event.detail.scaleX);
        console.log(event.detail.scaleY);
      }
    });

    var cropper = $image.data('cropper');
  });
</script> {% endcomment %}
{% endblock %}
